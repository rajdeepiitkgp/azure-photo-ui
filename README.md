# Photo Gallery App

Welcome to the **Photo Gallery App**! This is a hobby project designed to enhance my Azure skills while building a functional photo gallery application. The project showcases the integration of several Azure services and their seamless operation together.

---

## Features

- **Photo Upload:** Users can upload images via the frontend.
- **Gallery View:** Users can view and search uploaded photos based on tags extracted using Azure Computer Vision.
- **Real-time Notifications:** Notifications about photo uploads or deletions are sent to a Discord channel via a webhook.
- **Serverless and Secure:** All authentications are managed using Azure Managed Identity, eliminating the need for connection strings.

---

## Architecture Overview

The application comprises three main code components:

1. **UI:**  
   A static web app hosted on Azure Static Web Apps.
   
2. **Backend:**  
   An API hosted on Azure App Service to handle photo uploads and communicate with other Azure services.

3. **Function App:**  
   A serverless Azure Function to listen for blob events and send notifications.

---

## Azure Components Used

1. **Azure Static Web App:** Hosts the frontend of the application.
2. **Azure App Service:** Hosts the backend API.
3. **Azure Function App:** Processes blob events and sends Discord notifications.
4. **Azure Blob Storage:** Stores uploaded photos.
5. **Azure Computer Vision Service:** Analyzes uploaded photos for captions, tags, and confidence scores.
6. **Azure Cosmos DB:** Stores metadata about uploaded images.
7. **Azure Event Grid:** Triggers events for blob creation or deletion.
8. **Azure Managed Identity:** Handles authentication securely.
9. **Azure Application Insights:** Enables centralized logging and monitoring.

---

## Application Flow

1. **Photo Upload:**
   - Users upload a photo via the frontend.
   - The backend API receives the photo and uploads it to Azure Blob Storage.

2. **Image Analysis:**
   - The blob URL is sent to Azure Computer Vision for analysis.
   - Computer Vision returns:
     - Captions
     - Tags
     - Confidence scores
   - This metadata is stored in Azure Cosmos DB.

3. **Gallery View:**
   - Users can view all uploaded images in the gallery.
   - Search functionality allows filtering based on tags generated by Azure Computer Vision.

4. **Event Handling:**
   - When a blob is uploaded or deleted:
     - Azure Event Grid triggers an event.
     - Azure Function App listens for these events and sends a notification to a Discord channel via a webhook.

---

## Authentication

- Authentication is fully managed using **Azure Managed Identity** to ensure secure and streamlined access to Azure resources.
- No connection strings or sensitive credentials are stored in the application.

---

## Logging and Monitoring

- Logs and diagnostics are available in **Azure Application Insights**, providing detailed insights into application performance and event tracing.

---

## Getting Started

### Prerequisites
- An active Azure subscription.
- A Discord webhook for receiving notifications.
- Basic knowledge of Azure services and web development.

### Deployment
1. Clone the repositories [azure-photo-ui](https://github.com/rajdeepiitkgp/azure-photo-ui/), [azure-photo-api](https://github.com/rajdeepiitkgp/azure-photo-api/), [azure-photo-function](https://github.com/rajdeepiitkgp/azure-photo-function/)
2. Deploy each component to its corresponding Azure service:
   - **UI** → Azure Static Web Apps
   - **Backend** → Azure App Service
   - **Function App** → Azure Function
3. Configure the required Azure resources (Blob Storage, Cosmos DB, Computer Vision, Event Grid, Managed Identity).
4. Integrate the Discord webhook URL into the Azure Function App.
5. Monitor logs via Azure Application Insights.

---

## Future Enhancements

- Adding support for video uploads and analysis.
- Integration with additional machine learning models for advanced tagging.
- Improved UI/UX for better user interaction.

---

## License

This project is licensed under the MIT License. See the `LICENSE` file for more information.
